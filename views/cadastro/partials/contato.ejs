<md-toolbar
  layout="row" 
  class="md-toolbar-tools">

  <md-button 
    aria-label="button-label" 
    class="md-icon-button"
    ng-click="ctrl.voltar()">
    
    <md-icon md-font-set="material-icons">arrow_back</md-icon>
  </md-button>
    
  <h1
    class="md-title"
    flex
    md-truncate>Cadastro</h1>
</md-toolbar>

<md-progress-linear 
  md-mode="indeterminate" 
  ng-show="loading"></md-progress-linear>

<md-content 
  layout="column" 
  class="md-no-flicker md-no-momentum">

  <md-subheader>Endereço</md-subheader>

  <div
    layout="column"
    layout-padding>

    <form
      name="address_form"
      layout="column">

      <md-input-container>
        <label for="cep">CEP</label>
        <input
          id="cep"
          type="tel"
          maxlength="9"
          mask="99999-999"
          mask-clean="true"
          ng-model="ctrl.usuario.Enderecos[0].cep"
          ng-blur="ctrl.buscarEnderecoPorCep()"
          ng-pattern="ctrl.cepPattern"
          ng-required="true"
          ng-disabled="ctrl.loading" />
      </md-input-container>

      <div layout="row">
        <md-input-container>
          <label for="estado">UF</label>
          <md-select
            id="estado"
            ng-model="ctrl.usuario.Enderecos[0].estado"
            ng-required="true"
            ng-disabled="ctrl.loading"
            ng-readonly="true">

            <md-option
              ng-repeat="estado in ctrl.estados"
              ng-value="estado.sigla"
              ng-bind="estado.sigla"></md-option>
          </md-select>
        </md-input-container>

        <md-input-container>
          <label for="cidade">Cidade</label>
          <input
            id="cidade" 
            type="text"
            maxlength="45"
            ng-model="ctrl.usuario.Enderecos[0].cidade"
            ng-required="true"
            ng-disabled="ctrl.loading"
            ng-readonly="true" />
        </md-input-container>
      </div>

      <md-input-container>
        <label for="bairro">Bairro</label>
        <input
          id="bairro" 
          type="text"
          maxlength="45"
          ng-model="ctrl.usuario.Enderecos[0].bairro"
          ng-required="true"
          ng-disabled="ctrl.loading"
          ng-readonly="true" />
      </md-input-container>

      <md-input-container>
        <label for="street">Logradouro</label>
        <input
          id="street" 
          type="text"
          maxlength="45"
          ng-model="ctrl.usuario.Enderecos[0].logradouro"
          ng-required="true"
          ng-disabled="ctrl.loading"
          ng-readonly="true" />
      </md-input-container>

      <md-input-container>
        <label for="addr_num">Número</label>
        <input
          id="addr_num" 
          type="tel"
          ng-model="ctrl.usuario.Enderecos[0].numero"
          ng-required="true"
          ng-disabled="ctrl.loading" />
      </md-input-container>

      <md-input-container>
        <label for="complement">Complemento</label>
        <input
          id="complement" 
          type="text"
          maxlength="45"
          ng-model="ctrl.usuario.Enderecos[0].complemento"
          ng-disabled="ctrl.loading" />
      </md-input-container>
    </form>
  </div>

  <md-subheader>Telefone</md-subheader>

  <div
    layout="column"
    layout-padding>

    <form
      name="telephone_form"
      layout="column">

      <md-input-container>
        <label for="type">Tipo</label>
        <md-select
          id="type"
          ng-model="ctrl.usuario.Telefones[0].Tipo"
          ng-required="true"
          ng-disabled="ctrl.loading">

          <md-option ng-value="1">Fixo</md-option>
          <md-option ng-value="2">Celular</md-option>
        </md-select>
      </md-input-container>

      <div layout="row">
        <md-input-container flex="20">
          <label for="ddd">DDD</label>
          <input
            id="ddd" 
            type="tel"
            maxlength="2"
            ng-model="ctrl.usuario.Telefones[0].ddd"
            ng-pattern="ctrl.dddPattern"
            ng-required="true"
            ng-disabled="ctrl.loading" />
        </md-input-container>

        <md-input-container flex="80">
          <label for="number">Número</label>
          <input
            id="number" 
            type="tel"
            maxlength="10"
            mask="9?9999-9999"
            mask-clean="true"
            mask-validate="false"
            ng-model="ctrl.usuario.Telefones[0].numero"
            ng-pattern="ctrl.telPattern"
            ng-required="true"
            ng-disabled="ctrl.loading" />
        </md-input-container>
      </div>
    </form>

    <md-button
      class="md-primary md-raised"
      md-ripple-size="full"
      ng-disabled="address_form.$invalid || telephone_form.$invalid"
      ng-click="ctrl.avancar()">

      Continuar
    </md-button>
  </div>

</md-content>